<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Textadecimal - Text to Hex converter</title>
    <meta name="robots" content="index, follow">

    <style>
      @import url('https://fonts.googleapis.com/css?family=Comic+Neue');
      html {
        font-size: 27px;
        background-color: #000014;
        color: #ffffff;
        font-family: 'Comic Neue';
        margin: 0;
        text-align: center;
      }
      
      a:link {
        color: #66c0ff;
        background-color: transparent;
        text-decoration: none;
      }
      a:visited {
        color: #e875ff;
        background-color: transparent;
        text-decoration: none;
      }
      a:hover {
        color: #bde4ff;  background-color: transparent;
        text-decoration: ;
      }
      .mintext {
        text-align: center;
        font-size: 20px;
        background-color: transparent;
        color: #777777;
    </style>
  </head>
  <body>
    <div>
      <h1>Textadecimal</h1>
    </div>
    <div>
      <h2>Text</h2>
      <textarea id="textBox" rows="4" cols="50" style="background-color: #252540; color: white;"></textarea>
  
      <h2>Hexadecimal</h2>
      <textarea id="hexBox" rows="4" cols="50" style="background-color: #252540; color: white;"></textarea>
    </div>
  
    <script>
      const textBox = document.getElementById('textBox');
      const hexBox = document.getElementById('hexBox');
      const encoder = new TextEncoder();
      const decoder = new TextDecoder();
  
      let updating = false;
  
      textBox.addEventListener('input', () => {
        if (updating) return;
        updating = true;
        const bytes = encoder.encode(textBox.value);
        hexBox.value = Array.from(bytes)
          .map(b => b.toString(16).padStart(2, '0'))
          .join(' ');
        updating = false;
      });
  
      hexBox.addEventListener('input', () => {
        if (updating) return;
        updating = true;
        const cleanHex = hexBox.value.replace(/[^0-9a-fA-F]/g, '');
        const bytes = new Uint8Array(cleanHex.match(/.{1,2}/g)?.map(b => parseInt(b, 16)) || []);
        textBox.value = decoder.decode(bytes);
        updating = false;
      });

        document.querySelectorAll("a").forEach(link => {
          if (link.querySelector("img")) return;
          let domain;
          try {
            domain = new URL(link.href).origin;
          } catch {
            return;
          }
          const icon = document.createElement("img");
          icon.src = `https://www.google.com/s2/favicons?sz=32&domain_url=${domain}`;
          icon.alt = "favicon";
          icon.style.width = "1em";
          icon.style.height = "1em";
          icon.style.verticalAlign = "top";
          icon.style.marginTop = "1px";
          icon.style.marginRight = "10px";
          icon.style.borderRadius = "25%";
          link.prepend(icon);
        });
    </script>
  </body>
</html>
